<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FuelIQ - Your Intelligent Nutrition Companion</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="enhanced-demo-system.js" as="script">
    <link rel="preload" href="enhanced-integration-system.js" as="script">
    
    <!-- React and Dependencies -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js for analytics -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    
    <!-- Custom Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                        },
                        demo: {
                            50: '#faf5ff',
                            100: '#f3e8ff',
                            500: '#8b5cf6',
                            600: '#7c3aed',
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Custom styles for enhanced UX */
        .tab-button {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .tab-button:hover {
            transform: translateY(-1px);
        }
        
        .tab-button.active {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }
        
        .delivery-service-option {
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .delivery-service-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .delivery-service-option.selected {
            border-color: #3b82f6;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }
        
        .demo-indicator {
            animation: pulse 2s infinite;
        }
        
        .demo-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .demo-mode-toggle:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Loading states */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f4f6;
            border-radius: 50%;
            border-top-color: #3b82f6;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Enhanced card styles */
        .feature-card {
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .feature-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Demo Mode Indicator (top-right) -->
    <div id="demo-indicator" class="fixed top-4 right-4 z-50 hidden">
        <div class="bg-purple-100 border border-purple-300 text-purple-800 px-3 py-1 rounded-full text-sm font-medium demo-indicator">
            üé≠ DEMO MODE - Terry Graham
        </div>
    </div>

    <!-- Main Container -->
    <div class="max-w-7xl mx-auto px-4 py-6">
        <!-- Header -->
        <header class="mb-8">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-lg">
                        <span class="text-white text-2xl font-bold">FuelIQ</span>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900" id="main-title">Your Intelligent Nutrition Companion</h1>
                        <p class="text-gray-600" id="subtitle">Powered by AI ‚Ä¢ Personalized for You</p>
                    </div>
                </div>
                
                <!-- Quick Stats (updated dynamically) -->
                <div class="hidden md:flex items-center space-x-6 text-center">
                    <div>
                        <div class="text-2xl font-bold text-blue-600" id="header-calories">2,200</div>
                        <div class="text-sm text-gray-500">Daily Goal</div>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-green-600" id="header-protein">165g</div>
                        <div class="text-sm text-gray-500">Protein</div>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-purple-600" id="header-steps">10,000</div>
                        <div class="text-sm text-gray-500">Step Goal</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="mb-8">
            <div class="flex flex-wrap items-center justify-between gap-2">
                <!-- Main Navigation -->
                <div class="flex flex-wrap gap-2">
                    <button onclick="showTab('setup')" id="tab-setup" class="tab-button px-4 py-2 rounded-lg font-medium text-white bg-blue-500 active">
                        üè† Setup
                    </button>
                    <button onclick="showTab('dashboard')" id="tab-dashboard" class="tab-button px-4 py-2 rounded-lg font-medium text-gray-600 bg-white hover:bg-gray-50">
                        üìä Dashboard
                    </button>
                    <button onclick="showTab('meals')" id="tab-meals" class="tab-button px-4 py-2 rounded-lg font-medium text-gray-600 bg-white hover:bg-gray-50">
                        üçΩÔ∏è Meals
                    </button>
                    <button onclick="showTab('planning')" id="tab-planning" class="tab-button px-4 py-2 rounded-lg font-medium text-gray-600 bg-white hover:bg-gray-50">
                        üìÖ Planning
                    </button>
                    <button onclick="showTab('grocery')" id="tab-grocery" class="tab-button px-4 py-2 rounded-lg font-medium text-gray-600 bg-white hover:bg-gray-50">
                        üõí Grocery
                    </button>
                    <button onclick="showTab('pantry')" id="tab-pantry" class="tab-button px-4 py-2 rounded-lg font-medium text-gray-600 bg-white hover:bg-gray-50">
                        üè∫ Pantry
                    </button>
                    <button onclick="showTab('wearables')" id="tab-wearables" class="tab-button px-4 py-2 rounded-lg font-medium text-gray-600 bg-white hover:bg-gray-50">
                        ‚åö Wearables
                    </button>
                    <button onclick="showTab('journey')" id="tab-journey" class="tab-button px-4 py-2 rounded-lg font-medium text-gray-600 bg-white hover:bg-gray-50">
                        üìà Journey
                    </button>
                </div>
            </div>
        </nav>

        <!-- Tab Content Container -->
        <main id="tab-content" class="min-h-screen">
            <!-- Content will be dynamically loaded here -->
        </main>
    </div>

    <!-- Demo Mode Toggle Button -->
    <button id="demo-toggle" onclick="toggleDemoMode()" 
            class="demo-mode-toggle bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full shadow-lg font-medium">
        üé≠ Demo Mode
    </button>

    <!-- Loading Script Dependencies -->
    <script src="enhanced-demo-system.js"></script>
    <script src="enhanced-integration-system.js"></script>
    <script src="meals-tab.js"></script>
    <script src="pantry-tab.js"></script>
    <script src="weight-journey.js"></script>
    <script src="meal-planning.js"></script>
    <script src="grocery-delivery.js"></script>
    <script src="wearables-tab.js"></script>

    <script>
        // Global state management
        let currentTab = 'setup';
        let isDemoMode = false;

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ FuelIQ App Initializing...');
            
            // Check for demo mode from storage or URL parameter
            checkDemoMode();
            
            // Load the initial tab
            showTab('setup');
            
            // Update header based on demo mode
            updateHeaderForMode();
            
            console.log('‚úÖ FuelIQ App Initialized Successfully');
        });

        // Check and handle demo mode
        function checkDemoMode() {
            // Check URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            const demoParam = urlParams.get('demo');
            
            // Check if Terry Demo system reports demo mode
            if (window.TerryDemo && window.TerryDemo.utils) {
                isDemoMode = window.TerryDemo.utils.getDemoStatus();
            } else if (demoParam === 'true') {
                isDemoMode = true;
            }
            
            updateDemoModeUI();
        }

        // Toggle demo mode
        function toggleDemoMode() {
            if (!window.TerryDemo) {
                alert('Demo system not loaded. Please refresh the page.');
                return;
            }
            
            const button = document.getElementById('demo-toggle');
            button.innerHTML = '<div class="loading-spinner"></div> Loading...';
            button.disabled = true;
            
            try {
                if (isDemoMode) {
                    window.TerryDemo.disable();
                } else {
                    window.TerryDemo.enable();
                }
                
                // Reload page to apply changes
                setTimeout(() => {
                    window.location.reload();
                }, 500);
                
            } catch (error) {
                console.error('Error toggling demo mode:', error);
                alert('Error switching modes. Please refresh the page.');
                button.innerHTML = 'üé≠ Demo Mode';
                button.disabled = false;
            }
        }

        // Update UI for demo mode
        function updateDemoModeUI() {
            const demoIndicator = document.getElementById('demo-indicator');
            const demoToggle = document.getElementById('demo-toggle');
            
            if (isDemoMode) {
                demoIndicator.classList.remove('hidden');
                demoToggle.innerHTML = 'üë§ Exit Demo';
                demoToggle.className = 'demo-mode-toggle bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-full shadow-lg font-medium';
            } else {
                demoIndicator.classList.add('hidden');
                demoToggle.innerHTML = 'üé≠ Demo Mode';
                demoToggle.className = 'demo-mode-toggle bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full shadow-lg font-medium';
            }
        }

        // Update header based on mode
        function updateHeaderForMode() {
            const titleElement = document.getElementById('main-title');
            const subtitleElement = document.getElementById('subtitle');
            
            if (isDemoMode) {
                titleElement.textContent = 'FuelIQ Demo - Terry Graham';
                subtitleElement.textContent = 'UX Designer ‚Ä¢ Pescatarian ‚Ä¢ San Francisco, CA';
            } else {
                titleElement.textContent = 'Your Intelligent Nutrition Companion';
                subtitleElement.textContent = 'Powered by AI ‚Ä¢ Personalized for You';
            }
        }

        // Tab switching functionality
        function showTab(tabName) {
            currentTab = tabName;
            
            // Update tab buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active', 'bg-blue-500', 'text-white');
                button.classList.add('text-gray-600', 'bg-white');
            });
            
            const activeTab = document.getElementById(`tab-${tabName}`);
            if (activeTab) {
                activeTab.classList.remove('text-gray-600', 'bg-white');
                activeTab.classList.add('active', 'bg-blue-500', 'text-white');
            }
            
            // Load tab content
            loadTabContent(tabName);
        }

        // Load tab content dynamically
        function loadTabContent(tabName) {
            const contentContainer = document.getElementById('tab-content');
            const demoSuffix = isDemoMode ? ' - Demo' : '';
            
            switch (tabName) {
                case 'setup':
                    contentContainer.innerHTML = getSetupTabContent();
                    break;
                    
                case 'dashboard':
                    contentContainer.innerHTML = getDashboardTabContent();
                    // Initialize dashboard components
                    if (window.FuelIQWearables) {
                        setTimeout(() => window.FuelIQWearables.init(), 100);
                    }
                    break;
                    
                case 'meals':
                    contentContainer.innerHTML = getMealsTabContent();
                    break;
                    
                case 'planning':
                    contentContainer.innerHTML = getPlanningTabContent();
                    break;
                    
                case 'grocery':
                    contentContainer.innerHTML = getGroceryTabContent();
                    // Initialize grocery delivery
                    if (window.FuelIQGroceryDelivery) {
                        setTimeout(() => window.FuelIQGroceryDelivery.init(), 100);
                    }
                    break;
                    
                case 'pantry':
                    contentContainer.innerHTML = getPantryTabContent();
                    break;
                    
                case 'wearables':
                    contentContainer.innerHTML = getWearablesTabContent();
                    // Initialize wearables
                    if (window.FuelIQWearables) {
                        setTimeout(() => window.FuelIQWearables.init(), 100);
                    }
                    break;
                    
                case 'journey':
                    contentContainer.innerHTML = getJourneyTabContent();
                    break;
                    
                default:
                    contentContainer.innerHTML = '<div class="text-center text-gray-500 p-8">Tab not found</div>';
            }
        }

        // Tab content templates
        function getSetupTabContent() {
            const welcomeName = isDemoMode ? 'Terry Graham Demo' : 'Welcome to FuelIQ';
            const profileData = isDemoMode ? {
                age: 34,
                weight: 165,
                height: 70,
                activityLevel: 'moderately_active',
                dietType: 'pescatarian',
                calorieGoal: 2200,
                proteinGoal: 165
            } : {
                age: '',
                weight: '',
                height: '',
                activityLevel: 'sedentary',
                dietType: 'omnivore',
                calorieGoal: 2000,
                proteinGoal: 150
            };
            
            return `
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h2 class="text-2xl font-bold text-gray-900 mb-4">${welcomeName}</h2>
                        <p class="text-gray-600 mb-6">Let's set up your personalized nutrition profile to get started.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Age</label>
                                <input type="number" value="${profileData.age}" ${isDemoMode ? 'disabled' : ''} class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${isDemoMode ? 'bg-gray-100' : ''}">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Weight (lbs)</label>
                                <input type="number" value="${profileData.weight}" ${isDemoMode ? 'disabled' : ''} class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${isDemoMode ? 'bg-gray-100' : ''}">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Height (inches)</label>
                                <input type="number" value="${profileData.height}" ${isDemoMode ? 'disabled' : ''} class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${isDemoMode ? 'bg-gray-100' : ''}">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Activity Level</label>
                                <select ${isDemoMode ? 'disabled' : ''} class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${isDemoMode ? 'bg-gray-100' : ''}">
                                    <option value="sedentary" ${profileData.activityLevel === 'sedentary' ? 'selected' : ''}>Sedentary</option>
                                    <option value="lightly_active" ${profileData.activityLevel === 'lightly_active' ? 'selected' : ''}>Lightly Active</option>
                                    <option value="moderately_active" ${profileData.activityLevel === 'moderately_active' ? 'selected' : ''}>Moderately Active</option>
                                    <option value="very_active" ${profileData.activityLevel === 'very_active' ? 'selected' : ''}>Very Active</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="mt-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Daily Goals</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Daily Calories</label>
                                    <input type="number" value="${profileData.calorieGoal}" ${isDemoMode ? 'disabled' : ''} class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${isDemoMode ? 'bg-gray-100' : ''}">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Protein Goal (g)</label>
                                    <input type="number" value="${profileData.proteinGoal}" ${isDemoMode ? 'disabled' : ''} class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${isDemoMode ? 'bg-gray-100' : ''}">
                                </div>
                            </div>
                        </div>
                        
                        ${!isDemoMode ? '<button class="mt-6 bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors">Save Profile</button>' : '<div class="mt-6 text-sm text-purple-600">üé≠ Demo profile - settings are read-only</div>'}
                    </div>
                </div>
            `;
        }

        function getDashboardTabContent() {
            const titleSuffix = isDemoMode ? ' - Demo' : '';
            return `
                <div class="space-y-6">
                    <h2 class="text-2xl font-bold text-gray-900">Dashboard${titleSuffix}</h2>
                    
                    <!-- Quick Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600">Steps Today</p>
                                    <p class="text-2xl font-bold text-blue-600" id="dashboard-steps">8,247</p>
                                </div>
                                <div class="text-3xl">üëü</div>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 82%"></div>
                            </div>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600">Sleep</p>
                                    <p class="text-2xl font-bold text-purple-600">7.8h</p>
                                </div>
                                <div class="text-3xl">üò¥</div>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                <div class="bg-purple-500 h-2 rounded-full" style="width: 97%"></div>
                            </div>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600">Calories</p>
                                    <p class="text-2xl font-bold text-green-600">1,847</p>
                                </div>
                                <div class="text-3xl">üî•</div>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 84%"></div>
                            </div>
                        </div>
                        
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-600">Water</p>
                                    <p class="text-2xl font-bold text-cyan-600">2.1L</p>
                                </div>
                                <div class="text-3xl">üíß</div>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                <div class="bg-cyan-500 h-2 rounded-full" style="width: 60%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Device Status (populated by wearables module) -->
                    <div id="device-status"></div>
                    <div id="today-stats"></div>
                    <div id="sleep-data"></div>
                </div>
            `;
        }

        function getMealsTabContent() {
            return `
                <div class="space-y-6">
                    <h2 class="text-2xl font-bold text-gray-900">Meal Tracking</h2>
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <p class="text-gray-600">Meal tracking functionality will be loaded here.</p>
                        <p class="text-sm text-gray-500 mt-2">This tab connects with your meals-tab.js module.</p>
                    </div>
                </div>
            `;
        }

        function getPlanningTabContent() {
            return `
                <div class="space-y-6">
                    <h2 class="text-2xl font-bold text-gray-900">Meal Planning</h2>
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <p class="text-gray-600">Meal planning functionality will be loaded here.</p>
                        <p class="text-sm text-gray-500 mt-2">This tab connects with your meal-planning.js module.</p>
                        
                        <div class="mt-4">
                            <button onclick="window.FuelIQGroceryDelivery && window.FuelIQGroceryDelivery.importFromMealPlan()" 
                                    class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors">
                                üìÖ Export to Grocery
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function getGroceryTabContent() {
            return `
                <div class="space-y-6">
                    <h2 class="text-2xl font-bold text-gray-900">Grocery Delivery</h2>
                    
                    <!-- Import from Meal Plan -->
                    <div class="bg-blue-50 border border-blue-200 p-4 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <h3 class="font-medium text-blue-900">Import from Meal Plan</h3>
                                <p class="text-sm text-blue-700">Automatically add ingredients from your meal plan to cart</p>
                            </div>
                            <button onclick="window.FuelIQGroceryDelivery.importFromMealPlan()" 
                                    class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors">
                                üìÖ From Meal Plan
                            </button>
                        </div>
                    </div>
                    
                    <!-- Delivery Service Selection -->
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Choose Delivery Service</h3>
                        <div id="delivery-service-selector" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <!-- Services populated by grocery module -->
                        </div>
                    </div>
                    
                    <!-- Shopping Cart -->
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Shopping Cart</h3>
                        <div id="cart-items">
                            <div class="text-center text-gray-500 p-8">Your cart is empty</div>
                        </div>
                        <div id="cart-summary" class="mt-4"></div>
                        
                        <div class="mt-6 pt-4 border-t">
                            <button onclick="window.FuelIQGroceryDelivery.checkout()" 
                                    class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-medium transition-colors">
                                üõí Checkout
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function getPantryTabContent() {
            return `
                <div class="space-y-6">
                    <h2 class="text-2xl font-bold text-gray-900">Smart Pantry</h2>
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <p class="text-gray-600">Pantry management functionality will be loaded here.</p>
                        <p class="text-sm text-gray-500 mt-2">This tab connects with your pantry-tab.js module.</p>
                    </div>
                </div>
            `;
        }

        function getWearablesTabContent() {
            return `
                <div class="space-y-6">
                    <h2 class="text-2xl font-bold text-gray-900">Wearables & Health</h2>
                    
                    <!-- Device Status -->
                    <div id="device-status"></div>
                    
                    <!-- Today's Stats -->
                    <div id="today-stats"></div>
                    
                    <!-- Sleep Data -->
                    <div id="sleep-data"></div>
                    
                    <!-- Recent Workouts -->
                    <div id="recent-workouts"></div>
                </div>
            `;
        }

        function getJourneyTabContent() {
            return `
                <div class="space-y-6">
                    <h2 class="text-2xl font-bold text-gray-900">Weight Journey</h2>
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <p class="text-gray-600">Weight tracking and journey functionality will be loaded here.</p>
                        <p class="text-sm text-gray-500 mt-2">This tab connects with your weight-journey.js module.</p>
                    </div>
                </div>
            `;
        }

        // Utility functions for cross-module communication
        window.FuelIQApp = {
            showTab: showTab,
            getCurrentTab: () => currentTab,
            isDemoMode: () => isDemoMode,
            updateHeaderStats: (stats) => {
                if (stats.calories) document.getElementById('header-calories').textContent = stats.calories;
                if (stats.protein) document.getElementById('header-protein').textContent = stats.protein;
                if (stats.steps) document.getElementById('header-steps').textContent = stats.steps;
            }
        };
    </script>
</body>
</html>
